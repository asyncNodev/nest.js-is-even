# is-even

[![Backend CI](https://github.com/Skona27/is-even/actions/workflows/backend.yml/badge.svg)](https://github.com/Skona27/is-even/actions/workflows/backend.yml) [![Frontend CI](https://github.com/Skona27/is-even/actions/workflows/frontend.yml/badge.svg)](https://github.com/Skona27/is-even/actions/workflows/frontend.yml)

SaaS platform for checking if number is even

Check out [Live](https://is-even.eu) version and [API Documentation](https://api.is-even.eu/docs).

## About project

This project gathers some of the best practices of development and maintenance of real-world production applications. The aim of this project is to show how one can implement a working system from start to end and then deploy it on some infrastructure. It contains of:

- modern Frontend application written in Next.js
- safe and robust Backend application written in Nest.js
- infrastructure as a code with AWS CDK
- docker environment for local development
- monorepo manager to control all the and it's dependacies
- CI/CD pipelines for running tests and deployment

## Prerequisites

You need to have `docker` and `docker-compose` installed on your computer to run the local environment. This project uses Rush.js as a monorepo manager. Check out official [Rush docs](https://rushjs.io/pages/intro/get_started/) to set it up.

Backend application also uses AWS Cognito. It is not necessary to create your own user pool, but you will miss the core features like signup and login.

## Run locally

In order to start the application locally, please follow instruction specified below:

1. Clone this repository
2. Install dependencies with `rush update`
3. Go into `docker` dir
4. Set environment variables from template `.env` file
5. Run `rushx up` for spinning up the docker environment

Frontend service will start on port `3000` and API service will start on port `4000`.

Behind the scenes, `rushx up` command will spin up the docker containers. Hot reloading is enabled because those containers have ther volumes linked to the source files inside packages.

## Documentation

The API documentation is autogenerated with `Swagger`. When running locally, it is available at `http://localhost:4000/docs`. Please checkout the live version of the docs [API documentation](https://api.is-even.eu/docs)

## Stack

Here are specified technologies used for this project along with the short description about the production environment.

**Frontend**:

- React
- Next.js
- XState
- Chakra UI

**Backend**:

- Nest.js
- Typeorm
- Postgresql
- Typescript
- Jest
- AWS Cognito
- Stripe

**Infrastructure**:

- Docker (for local environment)
- AWS CDK

Frontend application is deployed on Vercel, which is one of the first choices when it comes to deploying the Next.js application. Backend application is deployed on AWS Elastic Beanstalk. API depends on some other services like:

- AWS Cognito,
- AWS RDS,
- AWS S3

The DNS configurations is done via AWS Route 53, but it is not a part of the infrastructure package.

## Missing features

Here is the list of missing features or possible improvements. This is not a closed list, feel free to add some other requirements.

- [ ] Retry payment that was interrupted or failed
- [ ] Delete API Keys
- [ ] Prevent user for creating order if he still has the active credit
- [ ] Enable subscriptions with Stripe
- [ ] Split frontend to static landing page and dynamic Client application
- [ ] Move reusable types to shared packages (this may possibly break the local docker environment, packages would need to have access to each other during installation)
- [ ] Implement unit tests
- [ ] TBD

## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are greatly appreciated.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag `enhancement`.

## Help

In case of a problem with the local environment or application itself, please visit the issues in order to see for possible solutions, or open a new issue.

## License

This project is licensed under the MIT License - see the LICENSE.md file for details. Feel free to use this project as the base for your next application.

## Useful links

Here are specifies some usfeul links for administrating or monitorig the application.

- Email client: [Zoho mail](https://mail.zoho.eu/zm/)
- Stripe payments: [Stripe](https://dashboard.stripe.com/dashboard)
- Google analytics: [Analytics](https://analytics.google.com/analytics/web/#/p293916338/reports/reportinghub)
- Sentry reporting: [Sentry](https://sentry.io/organizations/is-even)

## Acknowledgments

Inspiration, code snippets or useful articles:

- [Deploy scalable NodeJS application with Postgres database using AWS CDK](https://dev.to/skona27/deploy-scalable-nodejs-application-with-postgres-database-using-aws-cdk-22l4)
- [Control your Monorepo](https://dev.to/skona27/control-your-monorepo-2ka6)
